# HTTP 통신 구조와 동작 원리

HTTP(HyperText Transfer Protocol)는 웹에서 클라이언트(브라우저)와 서버가 데이터를 주고받는 데 사용되는 핵심 프로토콜입니다. HTTP 통신은 기본적으로 **클라이언트가 요청(Request)을 보내고 서버가 응답(Response)을 보내는 방식**으로 이루어집니다.

## 1. HTTP 통신의 기본 원리

HTTP 통신은 **Stateless(무상태성)**와 **Connectionless(비연결성)**라는 두 가지 중요한 특징을 가집니다.

### 1) Connectionless (비연결성)

* **정의:** 클라이언트가 서버에 요청을 보내고 응답을 받은 후에는 연결을 바로 끊습니다.
* **장점:** 서버는 수많은 클라이언트와의 연결을 계속 유지할 필요가 없으므로, **자원 낭비를 줄이고** 더 많은 요청을 처리할 수 있습니다.
* **단점:** 매번 요청 시마다 새로운 연결을 맺고 끊는 오버헤드가 발생할 수 있습니다. (최근에는 HTTP/1.1 이후 **Keep-Alive**를 통해 연결을 일정 시간 유지하여 단점을 보완합니다.)

### 2) Stateless (무상태성)

* **정의:** 서버가 클라이언트의 이전 요청이나 상태를 전혀 기억하지 않습니다.
* **장점:** 서버 확장이 용이하고, 서버의 **부하를 줄여** 안정적인 운영이 가능합니다.
* **단점:** 클라이언트의 상태 정보(예: 로그인, 장바구니 내용)를 유지해야 할 경우, 별도의 기술(예: **쿠키, 세션, 토큰**)이 필요합니다.

---

## 2. HTTP 요청 (Request) 구조

클라이언트(브라우저)가 서버에 데이터를 요청할 때 보내는 메시지 구조입니다.

| 구성 요소 | 역할 및 내용 | 예시 |
| :---: | :---: | :---: |
| **Start Line** | 요청의 종류(메서드), 목표 URL, HTTP 버전 포함. | `GET /posts/1 HTTP/1.1` |
| **Headers** | 요청에 대한 추가 정보와 메타데이터. (인증, 캐시, 브라우저 정보 등) | `Host: example.com`, `User-Agent: Mozilla/5.0` |
| **Body** | **POST, PUT, PATCH** 요청 시 서버로 보낼 실제 데이터 (옵션). | `{"title": "새 글", "content": "내용"}` |

### 주요 HTTP 메서드 (CRUD 매핑)

| 메서드 | 역할 | CRUD |
| :---: | :---: | :---: |
| **GET** | 데이터를 조회 (읽기) | Read |
| **POST** | 데이터를 생성/제출 | Create |
| **PUT/PATCH** | 데이터를 수정 (전체/일부) | Update |
| **DELETE** | 데이터를 삭제 | Delete |

---

## 3. HTTP 응답 (Response) 구조

서버가 클라이언트의 요청을 처리한 후 결과를 알려줄 때 보내는 메시지 구조입니다.

| 구성 요소 | 역할 및 내용 | 예시 |
| :---: | :---: | :---: |
| **Status Line** | 응답 상태를 나타내는 코드와 버전. | `HTTP/1.1 200 OK` |
| **Headers** | 응답에 대한 추가 정보. (서버 정보, 캐시 정책, 데이터 타입 등) | `Content-Type: application/json`, `Server: Apache` |
| **Body** | 클라이언트에게 전송할 실제 데이터. (HTML, JSON, 이미지 등) | `<h1>환영합니다</h1>` 또는 `{"id": 1, "title": "글제목"}` |

### 주요 HTTP 상태 코드

| 코드 | 분류 | 의미 |
| :---: | :---: | :---: |
| **2xx** | **성공 (Success)** | 요청이 성공적으로 처리되었음 (예: `200 OK`) |
| **3xx** | **리다이렉션 (Redirection)** | 요청을 완료하기 위해 추가적인 조치 필요 (예: `301 Moved Permanently`) |
| **4xx** | **클라이언트 오류 (Client Error)** | 클라이언트의 요청이 잘못되었음 (예: `404 Not Found`, `400 Bad Request`) |
| **5xx** | **서버 오류 (Server Error)** | 서버가 요청을 처리하지 못했음 (예: `500 Internal Server Error`) |
